# Возможности веб-приложения

## 🎯 Главные возможности

### 1. Управление несколькими клиентами
- Добавление неограниченного количества клиентов
- Каждый клиент со своими учетными данными
- Независимое управление каждым ботом

### 2. Таблица клиентов
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ Name    │ Email       │ Country │ Current Date │ Target Date │ Last Log     │
├─────────────────────────────────────────────────────────────────────────────┤
│ Иван    │ ivan@...    │ RU      │ 2025-03-15   │ 2025-02-01  │ Checking...  │
│ Мария   │ maria@...   │ FR      │ 2025-04-20   │ -           │ No dates...  │
└─────────────────────────────────────────────────────────────────────────────┘
```

**Возможности:**
- Просмотр всех клиентов в одном месте
- Быстрый доступ к информации
- Цветовая индикация статуса

### 3. Кнопки управления

**🟢 СТОП** (зеленая) - бот запущен, нажмите чтобы остановить
**⚪ СТАРТ** (серая) - бот остановлен, нажмите чтобы запустить

**✏️ Редактировать** - изменить данные клиента (только если бот остановлен)
**🗑️ Удалить** - удалить клиента (только если бот остановлен)

### 4. Модальное окно редактирования

Все поля в удобной форме:
- Name - имя клиента
- Email, Password - учетные данные
- Country Code - код страны (ru, fr, de)
- Schedule ID, Facility ID - идентификаторы
- Current Date - текущая дата записи
- Target Date - желаемая дата (опционально)
- Min Date - минимальная приемлемая дата (опционально)
- Refresh Delay - задержка между проверками (секунды)

### 5. Панель логов в реальном времени

**Особенности:**
- Открывается по клику на последний лог в таблице
- Показывает всю историю логов клиента
- Обновляется мгновенно через WebSocket
- Автоматический скролл к новым логам
- Кнопка возврата к нижним логам если прокрутили вверх

**Цветовая индикация:**
- 🔴 Красная рамка - ошибки
- 🟠 Оранжевая рамка - предупреждения
- 🟢 Зеленая рамка - успехи (например, успешное бронирование)
- 🔵 Синяя рамка - информационные сообщения

### 6. Real-time обновления

**WebSocket соединение обеспечивает:**
- Мгновенное отображение новых логов
- Обновление статуса кнопок START/STOP
- Синхронизацию между всеми открытыми вкладками
- Автоматическое переподключение при обрыве связи

### 7. Локальное хранилище данных

**SQLite база данных:**
- Файл: `server/db/clients.db`
- Хранит всех клиентов
- Сохраняет историю логов
- Быстрый доступ к данным
- Не требует внешних сервисов

## 🛠️ Технические особенности

### Backend
- Express REST API
- WebSocket сервер для real-time обновлений
- SQLite для хранения данных
- Child processes для запуска ботов
- Graceful shutdown

### Frontend
- React 18 с hooks
- Vite для быстрой разработки
- Responsive дизайн
- WebSocket клиент
- Modern CSS с анимациями

### Bot Management
- Каждый бот в отдельном процессе
- Изолированные окружения
- Независимое управление
- Сбор и трансляция логов
- Автоматическое восстановление после ошибок

## 📊 Workflow

### Типичный сценарий использования

1. **Запуск приложения**
   ```bash
   npm run dev
   ```

2. **Добавление клиента**
   - Нажать "➕ Add Client"
   - Заполнить форму
   - Нажать "Create"

3. **Запуск бота**
   - Найти клиента в таблице
   - Нажать "▶ START"
   - Кнопка станет зеленой "⏹ STOP"

4. **Мониторинг**
   - Смотреть последний лог в таблице
   - Кликнуть на лог для открытия панели
   - Наблюдать за работой в реальном времени

5. **Остановка**
   - Нажать "⏹ STOP"
   - Бот корректно завершится

6. **Редактирование**
   - Остановить бота если запущен
   - Нажать "✏️"
   - Внести изменения
   - Нажать "Update"

## 🎨 UI/UX особенности

### Дизайн
- Gradient header (фиолетовый)
- Чистый минималистичный интерфейс
- Адаптивная таблица
- Smooth анимации и transitions
- Hover эффекты на интерактивных элементах

### Удобство использования
- Интуитивные кнопки
- Подсказки при наведении (tooltips)
- Подтверждение опасных действий (удаление)
- Валидация форм с понятными сообщениями
- Disabled состояния для невозможных действий

### Адаптивность
- Работает на больших экранах
- Адаптируется для планшетов
- Responsive таблица и панели

## 🔒 Безопасность

### Что реализовано
- Локальное хранение данных
- Нет внешних запросов (кроме visa API)
- Изолированные процессы ботов

### Что НЕ реализовано
⚠️ Пароли хранятся в открытом виде
⚠️ Нет аутентификации для доступа к веб-интерфейсу
⚠️ Предназначено только для локального использования

## 📈 Производительность

- ⚡ Мгновенный запуск (Vite HMR)
- ⚡ Быстрые запросы к SQLite
- ⚡ Эффективный WebSocket
- ⚡ React оптимизация (memo, useCallback где нужно)
- ⚡ Минимальная нагрузка на CPU

## 🎁 Бонусные возможности

- Счетчик времени с последнего лога ("10s ago", "5m ago")
- Выделение активной строки при открытой панели логов
- Кнопка обновления логов вручную (🔄)
- Кнопка очистки логов (🗑️)
- Закрытие модального окна по клику вне его
- Keyboard shortcuts (ESC для закрытия модалки)

## 🚀 Готово к использованию

Всё что нужно:
```bash
npm run install:all
npm run dev
```

Откройте http://localhost:3000 и начинайте работать!
